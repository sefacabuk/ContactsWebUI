
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row float-right">
    <button type="button" class="btn m-1 btn-success">Ekle</button>
    <button type="button" class="btn m-1 btn-primary">Güncelle</button>
    <button type="button" class="btn m-1 btn-danger">Sil</button>

</div>
<table class="table table-striped- table-bordered table-hover table-checkable" id="table_general">
    <thead>
        <tr>
            <th class="white_th">Ad Soyad</th>
            <th class="white_th">Firma</th>

        </tr>
    </thead>
    <tbody id="table_content">
    </tbody>
</table>

@section Styles {
    <link href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" rel="stylesheet">

}


@section Scripts {

    https://code.jquery.com/jquery-3.5.1.js
    https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js
    <script>

        $(document).ready(function () {

            GetList();

            function GetList() {

                $.ajax({
                    type: 'GET',
                    url: "/Users/AllUsers",
                    dataType: "json",
                    success: function(result) {
                        $('#table_content').html('');
                        var table_content_html = "";

                        for (var i = 0; i < result.length; i++) {
                            console.log(result);

                            table_content_html += "<tr class='table_item' data-id='" + result[i].id + "'>" +
                                "   <td>" + result[i].ad + " " + result[i].soyad + "</td>" +
                                "   <td>" + result[i].firma + "</td>" +
                                "</tr> " +
                                " ";
                        }

                        $('#table_content').html(table_content_html);

                        //var buttons = new $.fn.dataTable.Buttons(GeneralTable,
                        //    {
                        //        buttons: [
                        //            { extend: 'excel', className: 'width_200' }
                        //        ]
                        //    }).container().appendTo($('#export_excel'));

                        //var buttons = new $.fn.dataTable.Buttons(GeneralTable,
                        //    {
                        //        buttons: [
                        //            { extend: 'pdf', className: 'width_200' }
                        //        ]
                        //    }).container().appendTo($('#export_pdf'));

                        //var buttons = new $.fn.dataTable.Buttons(GeneralTable,
                        //    {
                        //        buttons: [
                        //            { extend: 'csv', className: 'width_200' }
                        //        ]
                        //    }).container().appendTo($('#export_csv'));

                    },
                    error: function(result) {
                        
                    },
                    complete: function() {
                    }
                });
            }


        });
    </script>

}
